/*
 contactlistapp 2016-12-04 
*/
!function(){function a(a,b,c){a.defaults.headers.common.Authorization="Bearer "+c.jwtToken,a.get("/api/users/current").success(function(a){"employee"==a.usertype?b.isEmployee=!0:b.isEmployee=!1}),b.$on("$stateChangeSuccess",function(a,c,d,e,f){b.activeTab=c.data.activeTab})}var b=angular.module("routerApp",["ui.router","ngRoute","core","vehicleDetail","vehicleShowroom","myInventoryApp","appAuth"]);b.config(function(a,b){"use strict";b.otherwise("/home"),a.state("home",{url:"/home",templateUrl:"partial-home.html",data:{activeTab:"home"}}).state("home.list",{url:"/list",templateUrl:"partial-home-list.html",controller:function(a){a.cars=["Ford Mustang","Chevrolet Camaro","Nissan Frontier"]}}).state("home.paragraph",{url:"/paragraph",template:"Some paragraph of text!"}).state("about",{url:"/about",views:{"":{templateUrl:"partial-about.html"},"columnOne@about":{template:"Another template can go here!"},"columnTwo@about":{templateUrl:"table-data.html",controller:"carController"}},data:{activeTab:"about"}}).state("vehicles",{url:"/vehicles",template:"<vehicle-list></vehicle-list>",data:{activeTab:"vehicles"}}).state("vehicleId",{url:"/vehicles/:vehicleTag",template:"<vehicle-detail></vehicle-detail>"}).state("employee",{url:"/employee",templateUrl:"protoemployee/partial-employee.html",data:{activeTab:"employee"}}).state("employee.inventory",{url:"/inventory",templateUrl:"protoemployee/inventory/partial-employee-inventory.html"}).state("employee.customers",{url:"/customers",templateUrl:"protoemployee/partial-employee-customers.html",controller:function(a){}}).state("employee.employees",{url:"/employees",templateUrl:"protoemployee/partial-employee-employees.html"}).state("employee.sales",{url:"/sales",templateUrl:"protoemployee/partial-employee-sales.html"}).state("account",{url:"/account",templateUrl:"login/account/index.html",controller:"Account.IndexController",controllerAs:"vm",data:{activeTab:"account"}})}),b.controller("carController",function(a){"use strict";a.message="test",a.cars=[{name:"Porsche 911",price:50},{name:"Nissan GTR",price:1e4},{name:"Ford Mustang",price:2e4}]}),b.run(a),$(function(){$.get("/app/token",function(a){window.jwtToken=a,angular.bootstrap(document,["routerApp"])})})}(),angular.module("customerViewApp",[]).controller("customerViewCtrl",["$scope","$http",function(a,b){console.log("customer view controller");var c=function(){b.get("/customerview").success(function(b){console.log("I got the data I requested"),a.customersection=b,a.vehicle=""})};c(),a.deselect=function(){a.vehicle=""},a.validateInputData=function(){console.log("Validating input data"),a.valid=!0}}]),angular.module("inventoryApp",[]).controller("inventoryCtrl",["$scope","$http",function(a,b){console.log("inventory controller");var c=function(){b.get("/inventory").success(function(b){console.log("I got the data I requested"),a.inventory=b,a.vehicle=""})};c(),a.addVehicle=function(){console.log(a.vehicle),a.validateInputData(),a.valid===!0&&b.post("/inventory",a.vehicle).success(function(a){console.log(a),c()})},a.remove=function(a){console.log(a),b.delete("/inventory/"+a).success(function(a){c()})},a.edit=function(c){console.log(c),b.get("/inventory/"+c).success(function(b){a.vehicle=b})},a.update=function(){console.log(a.vehicle._id),a.validateInputData(),a.valid===!0&&b.put("/inventory/"+a.vehicle._id,a.vehicle).success(function(a){c()})},a.deselect=function(){a.vehicle=""},a.validateInputData=function(){console.log("Validating input data"),a.valid=!0,validateStringNumbersAndSpaces(a.vehicle.make,2,20,"make")||(a.valid=!1),validateStringNumbersAndSpaces(a.vehicle.model,2,20,"model")||(a.valid=!1),validateNumber(a.vehicle.miles,1,9,"miles")||(a.valid=!1),validateNumber(a.vehicle.year,4,4,"year")||(a.valid=!1),validateString(a.vehicle.color,2,20,"color")||(a.valid=!1),validateNumber(a.vehicle.price,1,9,"price")||(a.valid=!1),validateNumber(a.vehicle.cost,1,9,"cost")||(a.valid=!1)}}]),angular.module("loginApp",[]).controller("loginCtrl",["$scope","$http",function(a,b){a.login=function(){}}]),angular.module("signupApp",[]).controller("signupCtrl",["$scope","$http","$location",function(a,b,c){var d=function(){b.get("/users").success(function(b){console.log("the users response is "+b),a.users=b,a.user=""})};d(),a.signUp=function(){b.post("/users",a.user).success(function(a){console.log("signUp() post response was"+a),d()})},a.remove=function(a){console.log("removing user "+a),b.delete("/users/"+a).success(function(a){d()})}}]);var myNumberServices=angular.module("NumberServices",[]);myNumberServices.service("EchoNumber",[function(){this.echo=function(a){return a}}]),myNumberServices.service("MathOperations",[function(){this.addTwoNumbers=function(a,b){return a+b},this.multiplyTwoNumbers=function(a,b){return a*b}}]);var mySharedModel=angular.module("mySharedModel",[]);mySharedModel.factory("messages",["$rootScope",function(a){var b={};return b.list=[],b.add=function(a){b.list.push({id:b.list.length,text:a}),this.broadcastItem()},b.broadcastItem=function(){a.$broadcast("modelUpdate")},b}]),angular.module("TestService",[]).factory("Test",["$http",function(a){return{get:function(){}}}]);var validateString=function(a,b,c,d){var e="The "+d+" must be between "+b+" and "+c+" chars, it can contain only letters";return!(0!==b||a&&""!==a)||validateRegex(a,b,c,/^[a-zA-Z]+$/,e)},validateStringNumbersAndSpaces=function(a,b,c,d){var e="The "+d+" must be between "+b+" and "+c+" chars, it can contain only letters, numbers, and spaces";return!(0!==b||a&&""!==a)||validateRegex(a,b,c,/^[a-zA-Z0-9 ]+$/,e)},validateNumber=function(a,b,c,d){var e="The "+d+" must be between "+b+" and "+c+" digits, it can contain only numbers";return validateRegex(a,b,c,/^[0-9]+$/,e)},validatePhoneNumber=function(a){var b="The phone number must be in format 000 000 0000, separators allowed are space ( ), dot (.) and dash (-)";return validateRegex(a,12,12,/^\(?(\d{3})\)?[ .-]?(\d{3})[ .-]?(\d{4})$/,b)},validateEmailAddress=function(a){var b="The email address is not valid",c=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return validateRegex(a,7,100,c,b)},validatePassword=function(a,b,c){var d="The password must be between "+b+" and "+c+" chars, it can contain only letters and numbers, and it must have at least 1 number, 1 uppercase and 1 lowercase character";return validateRegex(a,b,c,/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{1,}$/,d)},validateRegex=function(a,b,c,d,e){return!(!a||a.length<b||a.length>c||!d.test(a))||(e&&""!==e?alert(e):alert("I can not validate the input data"),!1)};module.exports={nodeValidateString:function(a,b,c,d){var e="The "+d+" must be between "+b+" and "+c+" chars, it can contain only letters";return!(0!==b||a&&""!==a)||validateRegex(a,b,c,/^[a-zA-Z]+$/,e)},nodeValidateStringNumbersAndSpaces:function(a,b,c,d){var e="The "+d+" must be between "+b+" and "+c+" chars, it can contain only letters, numbers, and spaces";return!(0!==b||a&&""!==a)||validateRegex(a,b,c,/^[a-zA-Z0-9 ]+$/,e)},nodeValidateNumber:function(a,b,c,d){var e="The "+d+" must be between "+b+" and "+c+" digits, it can contain only numbers";return validateRegex(a,b,c,/^[0-9]+$/,e)},nodeValidatePhoneNumber:function(a){var b="The phone number must be in format 000 000 0000, separators allowed are space ( ), dot (.) and dash (-)";return validateRegex(a,12,12,/^\(?(\d{3})\)?[ .-]?(\d{3})[ .-]?(\d{4})$/,b)},nodeValidateEmailAddress:function(a){var b="The email address is not valid",c=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return validateRegex(a,7,100,c,b)},nodeValidatePassword:function(a,b,c){var d="The password must be between "+b+" and "+c+" chars, it can contain only letters and numbers, and it must have at least 1 number, 1 uppercase and 1 lowercase character";return validateRegex(a,b,c,/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{1,}$/,d)},nodeValidateListOfStrings:function(a,b){return b.indexOf(a)==-1?(console.log("The string selected is not included in the list: "+b),"The string selected is not included in the list: "+b):"success"}};var validateRegex=function(a,b,c,d,e){return!a||a.length<b||a.length>c||!d.test(a)?e&&""!==e?(console.log(e),e):(console.log("I can not validate the input data"),"I can not validate the input data"):"success"};